

def is_valid(row, col, value):  # check if present
    for i in range(16):
        if board[i][col] == value:
            return False
    for i in range(16):
        if board[row][i] == value:
            return False
    x = row - row % 4
    y = col - col % 4
    for i in range(4):
        for j in range(4):
            if board[i+x][y+j] == value:
                return False
    return True


def put_values(row, col):  # put_value()
    if row == 16:
        return True
    if col >= 16:
        return put_values(row+1, 0)
    if board[row][col] != '.':
        return put_values(row, col+1)
    for i in range(1, 15):
        if is_valid(row, col, str(i)):
            board[row][col] = str(i)
            if put_values(row, col+1):
                return True
            board[row][col] = '.'
    return False


board = [[".","9",".",".","2",".","3","8","A",".",".",".",".",".",".","."],
    [".","1",".","6",".",".","D",".",".",".","8",".","F",".","B","5"],
    [".",".",".","3",".","B",".",".",".","5",".",".","G",".",".","."],
    ["7",".",".","F",".",".",".","A",".",".","G","1",".","4",".","."],
    ["G",".",".",".",".",".",".","D",".","A","C","7",".",".",".","F"],
    [".",".",".",".","1","3",".","F",".","B",".","8",".",".",".","."],
    ["1","8",".","A",".",".",".","E",".",".",".",".","2",".",".","6"],
    ["5",".",".",".",".",".",".",".",".","D",".",".","E","G","4","1"],
    ["9",".",".",".","E",".",".",".","7","1",".",".",".","A",".","4"],
    [".",".",".",".",".",".","1",".",".","9",".","E","C",".","8","."],
    [".","2","C","D",".",".","7",".","4",".",".",".",".","E","5","."],
    [".","4",".",".",".",".",".",".",".",".","D","6",".",".",".","G"],
    [".",".",".",".","F","8","B","4",".",".",".","2","A",".",".","."],
    ["E","3",".",".","9","7",".",".","6",".",".",".",".",".",".","."],
    [".","F","8","4",".",".","A",".",".",".","5",".","6",".",".","9"],
    [".",".",".",".",".","2",".","1","8",".",".","B",".",".",".","D"]]

put_values(0, 0)

for a in board:
    print(a)
